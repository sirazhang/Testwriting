# 雅思作文批改系统

一个基于AI的雅思作文智能批改系统，使用Google Gemini AI提供专业的作文反馈和分析。

## 功能特点

### Step 1: 作文上传
- 支持输入雅思作文题目
- 支持输入或粘贴作文内容
- 实时字数统计
- 图片转文字功能（开发中）
- 连词助手功能（开发中）

### Step 2: AI智能反馈
1. **打分系统** - 基于雅思官方评分标准
2. **总体反馈** - 平衡指出优势和不足
3. **词汇及语法错误批注** - 红绿对比显示错误和正确表达
4. **写作任务回应情况** - 详细的任务完成度分析
5. **连贯与衔接** - 逻辑结构和连接词使用分析
6. **词汇丰富程度** - 提供更准确的替换表达

### Step 3: 对话模式
- 学生可以询问关于批改的问题
- 支持提交修改后的作文进行重新评估
- AI导师提供个性化指导

## 技术栈

- **后端**: Flask (Python)
- **前端**: HTML5, CSS3, JavaScript
- **AI服务**: Google Gemini API
- **样式**: 响应式设计，支持移动端

## 安装和运行

### 1. 安装依赖

```bash
pip install -r requirements.txt
```

### 2. 配置API密钥

系统已预配置Google Gemini API密钥。如需使用自己的密钥，请修改 `config.py` 文件：

```python
GOOGLE_API_KEY = "your-api-key-here"
```

### 3. 运行应用

```bash
python app.py
```

应用将在 `http://localhost:8000` 启动。

## 使用说明

### 1. 上传作文
- 在"题目"区域输入雅思作文题目
- 在"作文原文"区域输入您的作文内容
- 系统会实时显示字数统计
- 点击"立即批改作文"开始分析

### 2. 查看反馈
- 系统会显示总体评分和反馈
- 通过标签页查看不同类型的详细反馈：
  - **词汇及语法错误批注**: 查看具体的语法和词汇错误
  - **写作任务回应情况**: 了解任务完成度
  - **连贯与衔接**: 分析文章结构和逻辑
  - **词汇丰富程度**: 获得更好的表达建议

### 3. 对话模式
- 点击"进入对话模式"开始与AI导师对话
- 可以询问任何关于批改的问题
- 支持提交修改后的作文进行重新评估

## 文件结构

```
writingweb/
├── app.py                 # Flask主应用
├── config.py             # 配置文件
├── requirements.txt      # Python依赖
├── README.md            # 说明文档
├── templates/
│   └── index.html       # 主页面模板
└── static/
    ├── css/
    │   └── style.css    # 样式文件
    └── js/
        └── app.js       # 前端JavaScript
```

## API接口

### POST /api/analyze
分析雅思作文并返回详细反馈

**请求体**:
```json
{
    "topic": "作文题目",
    "essay": "作文内容"
}
```

**响应**:
```json
{
    "overall_score": 6.5,
    "overall_feedback": "总体反馈...",
    "task_response": {...},
    "coherence_cohesion": {...},
    "lexical_resource": {...},
    "grammar_accuracy": {...}
}
```

### POST /api/chat
与AI导师对话

**请求体**:
```json
{
    "question": "学生问题",
    "context": "上下文信息"
}
```

**响应**:
```json
{
    "response": "AI回复内容"
}
```

## 特色功能

### 智能错误标注
- 红色显示错误表达
- 绿色显示正确表达
- 中文解释错误原因

### 分层反馈系统
- 总体评分和反馈
- 四个维度的详细分析
- 具体的改进建议

### 交互式对话
- 基于上下文的智能问答
- 支持作文修改后的重新评估
- 个性化的学习指导

## 注意事项

1. 确保网络连接正常，以访问Google Gemini API
2. 建议输入完整的作文内容（至少50个单词）以获得更准确的分析
3. 系统支持中英文混合内容，但主要针对英文雅思作文
4. 对话模式需要先完成作文分析

## 开发计划

- [ ] 图片转文字功能
- [ ] 连词助手功能
- [ ] 作文历史记录
- [ ] 用户账户系统
- [ ] 批量作文分析
- [ ] 导出反馈报告

## 许可证

MIT License

## 联系方式

如有问题或建议，请联系开发团队。
